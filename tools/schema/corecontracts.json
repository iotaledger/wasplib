[
  {
    "name": "accounts",
    "description": "Chain account ledger contract",
    "funcs": {
      "deposit": {
        "params": {
          "agentID=a": "?AgentId // default is caller"
        }
      },
      "withdraw": {
      }
    },
    "views": {
      "accounts": {
        "resultsMap": "[AgentId]Bytes // bytes are always empty"
      },
      "balance": {
        "params": {
          "agentID=a": "AgentId"
        },
        "resultsMap": "[Color]Int64"
      },
      "totalAssets": {
        "resultsMap": "[Color]Int64"
      }
    }
  },
  {
    "name": "blob",
    "description": "Blob Contract",
    "funcs": {
      "storeBlob": {
        "paramsMap": "[String]Bytes // set of named blobs",
        "results": {
          "hash": "Hash // calculated hash of blob set"
        }
      }
    },
    "views": {
      "getBlobField": {
        "params": {
          "hash": "Hash // blob set",
          "field": "String // blob name"
        },
        "results": {
          "bytes": "Bytes // blob data"
        }
      },
      "getBlobInfo": {
        "params": {
          "hash": "Hash // blob set"
        },
        "resultsMap": "[String]Int32 // size for each named blob"
      },
      "listBlobs": {
        "resultsMap": "[Hash]Int32 // total size for each blob set"
      }
    }
  },
  {
    "name": "blocklog",
    "description": "Block log Contract //TODO remove 'view' from name",
    "funcs": {
    },
    "views": {
      "getBlockInfo": {
        "params": {
          "blockIndex=n": "Int64"
        },
        "results": {
          "blockInfo=i": "Bytes"
        }
      },
      "getLatestBlockInfo": {
        "results": {
          "blockInfo=i": "Bytes"
        }
      },
      "getRequestLogRecord": {
        "params": {
          "requestID=u": "RequestId"
        },
        "results": {
          "requestRecord=d": "Bytes",
          "blockIndex=n": "Int64",
          "requestIndex=r": "Int64"
        }
      },
      "getRequestLogRecordsForBlock": {
        "params": {
          "blockIndex=n": "Int64"
        },
        "resultsMap": "[]Bytes //TODO requestRecord=d Array16?"
      },
      "getRequestIDsForBlock": {
        "params": {
          "blockIndex=n": "Int64"
        },
        "resultsMap": "[]Bytes //TODO requestID=u Array16?"
      },
      "isRequestProcessed": {
        "params": {
          "requestID=u": "RequestId"
        },
        "results": {
          "requestProcessed=p": "String"
        }
      }
    }
  },
  {
    "name": "eventlog",
    "description": "Event log Contract",
    "funcs": {
    },
    "views": {
      "getNumRecords": {
        "params": {
          "contractHname": "Hname"
        },
        "results": {
          "numRecords": "Int64"
        }
      },
      "getRecords": {
        "params": {
          "contractHname": "Hname",
          "maxLastRecords": "?Int64 // default 50",
          "fromTs": "?Int64 // default 0",
          "toTs": "?Int64 // default now"
        },
        "resultsMap": "[]Bytes //TODO records Array16"
      }
    }
  },
  {
    "name": "root",
    "description": "Root Contract",
    "funcs": {
      "claimChainOwnership": {
      },
      "delegateChainOwnership": {
        "params": {
          "chainOwner=$$owner$$": "AgentId"
        }
      },
      "deployContract": {
        "params": {
          "programHash=$$proghash$$": "Hash //TODO variable init params for deployed contract",
          "name=$$name$$": "String",
          "description=$$description$$": "?String // default 'N/A'"
        }
      },
      "grantDeployPermission": {
        "params": {
          "deployer=$$deployer$$": "AgentId"
        }
      },
      "revokeDeployPermission": {
        "params": {
          "deployer=$$deployer$$": "AgentId"
        }
      },
      "setContractFee": {
        "params": {
          "hname=$$hname$$": "Hname // contract id",
          "ownerFee=$$ownerfee$$": "?Int64 // default 0 (no fee)",
          "validatorFee=$$validatorfee$$": "?Int64 // default 0 (no fee)"
        }
      },
      "setDefaultFee": {
        "params": {
          "ownerFee=$$ownerfee$$": "?Int64 // default -1 (not set)",
          "validatorFee=$$validatorfee$$": "?Int64 // default -1 (not set)"
        }
      }
    },
    "views": {
      "findContract": {
        "params": {
          "hname=$$hname$$": "Hname"
        },
        "results": {
          "data=dt": "Bytes // encoded contract record"
        }
      },
      "getChainInfo": {
        "results": {
          "chainID=c": "ChainId",
          "chainOwnerID=o": "AgentId",
          "description=d": "String",
          "feeColor=f": "Color",
          "defaultOwnerFee=do": "Int64",
          "defaultValidatorFee=dv": "Int64",
          "contractRegistry=r": "[Hname]Bytes // contract records"
        }
      },
      "getFeeInfo": {
        "params": {
          "hname=$$hname$$": "Hname"
        },
        "results": {
          "feeColor=f": "Color",
          "ownerFee=of": "Int64",
          "validatorFee=vf": "Int64"
        }
      }
    }
  }
]
